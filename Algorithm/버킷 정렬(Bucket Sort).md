# ë²„í‚· ì •ë ¬(Bucket Sort)   

> **ëª©ì°¨**  
> 1. [ë²„í‚· ì •ë ¬ì´ë€?](#1-ë²„í‚·-ì •ë ¬bucket-sortì´ë€)  
> 2. [ë²„í‚· ì •ë ¬ì˜ ì•Œê³ ë¦¬ì¦˜](#2-ë²„í‚·-ì •ë ¬ì˜-ì•Œê³ ë¦¬ì¦˜)  
> 3. [C++ë¡œ êµ¬í˜„í•œ ë²„í‚· ì •ë ¬](#3-cë¡œ-êµ¬í˜„í•œ-ë²„í‚·-ì •ë ¬)  
> 4. [ë²„í‚· ì •ë ¬ì˜ ì„±ëŠ¥ ë¶„ì„](#4-ë²„í‚·-ì •ë ¬ì˜-ì„±ëŠ¥-ë¶„ì„)  

<br>

## 1. ë²„í‚· ì •ë ¬(Bucket Sort)ì´ë€?
- ë°ì´í„° ì›ì†Œë“¤ì„ `ë‹¤ì–‘í•œ ê·¸ë£¹(ë˜ëŠ” ë²„í‚·)`ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ë²„í‚·ë§ˆë‹¤ ì •ë ¬í•œ í›„, ë‹¤ì‹œ í•©ì¹˜ëŠ” ë°©ë²•  

    ![ë²„í‚· ì •ë ¬ ì˜ˆ](https://scaler.com/topics/images/bucket-sort-with-integer-elements)   
    - `ë²„í‚·ì˜ í¬ê¸° = 1`ì´ë¼ë©´, **ì¼ë°˜ì ì¸ ê³„ìˆ˜ ì •ë ¬**ê³¼ ê°™ë‹¤.

- <u>ë°ì´í„°ì˜ ë¶„í¬ íŠ¹ì„±ì„ í™œìš©</u>í•˜ëŠ” ë°©ì‹
    - `ê³„ìˆ˜ ì •ë ¬`ì€ í‚¤ ê°’ì´ ì‘ì€ ë²”ìœ„ ì•ˆì— ë“¤ì–´ì˜¬ ë•Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•
    - `ë²„í‚· ì •ë ¬`ì€ <u>í‚¤ ê°’ì˜ ë²”ìœ„ë¿ë§Œ ì•„ë‹ˆë¼, ê·¸ ë²”ìœ„ ë‚´ì—ì„œ í‚¤ ê°’ì´ í™•ë¥ ì ìœ¼ë¡œ ê· ë“±í•˜ê²Œ ë¶„í¬</u>ëœë‹¤ê³  ê°€ì •í•  ìˆ˜ ìˆì„ ë•Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•
        - ex) ë¶€ë™ì†Œìˆ˜ì     

<br>

## 2. ë²„í‚· ì •ë ¬ì˜ ì•Œê³ ë¦¬ì¦˜
> 1. ì›ì†Œë“¤ì˜ ê°’ ë²”ìœ„ì— ëŒ€í•´ ì•Œì•„ë‚¸ í›„, ì´ ë²”ìœ„ì— ë”°ë¼ ì ì ˆí•œ ê°œìˆ˜ì˜ ë¹„ì–´ ìˆëŠ” ë²„í‚·ì„ ìƒì„±
> 2. `ë¶„í•  ë‹¨ê³„` : ì…ë ¥ ë°°ì—´ì˜ ì›ì†Œë“¤ì´ ê°ê° ì†í•œ ë²”ì£¼ì˜ ë²„í‚·ì— ì €ì¥  
> 3. `ì •ë ¬ ë‹¨ê³„` : ê°ê°ì˜ ë²„í‚·ë“¤ì„ ì •ë ¬
> 4. `ìˆ˜ì§‘ ë‹¨ê³„` : ë²„í‚·ì„ ì°¨ë¡€ëŒ€ë¡œ ë°©ë¬¸í•˜ì—¬, ì›ì†Œë“¤ì„ ì›ë˜ ë°°ì—´ì— ì €ì¥  

> [ë²„í‚· ì •ë ¬ ì‹œë®¬ë ˆì´ì…˜ ì‚¬ì´íŠ¸](https://www.cs.usfca.edu/~galles/visualization/BucketSort.html)  

<br>

## 3. C++ë¡œ êµ¬í˜„í•œ ë²„í‚· ì •ë ¬  
```cpp
#include <vector>
#include <algorithm>
#include <list>
#include <cmath>
#define EPSILON 0.00001
using namespace std;

void InsertToBucket(list<float>& lists, float newData)
{
    if (lists.empty())
    {
        lists.push_front(newData);
        return;
    }

    for (auto it = lists.begin(); it != lists.end(); ++it)
    {
        float element = *it;

        // ìƒˆë¡œìš´ ë°ì´í„°ê°€ ì‘ê±°ë‚˜ ê°™ì„ ê²½ìš°, ê·¸ ì•ì— ë„£ìœ¼ë©´ ìë™ ì •ë ¬
        if (fabs(element - newData) < EPSILON or newData < element)
        {
            lists.insert(it, newData);
            return;
        }
    }

	// forë¬¸ì„ ë‹¤ ëŒì•˜ëŠ”ë°ë„ ì—†ë‹¤ë©´, ì œì¼ í° ìˆ˜ì´ë¯€ë¡œ ë§¨ ë’¤ì— ì‚½ì…
    lists.push_back(newData);
}


// 0.0 ~ 1.0 ì‚¬ì´ì˜ ë¶€ë™ì†Œìˆ˜ ì •ë ¬ ì˜ˆ
void BucketSort(vector<float>& arr, int bucketSize = 10)
{
    int N = arr.size();
    float maxValue = *max_element(arr.begin(), arr.end());
    vector<list<float>> buckets(bucketSize, list<float>());

    // 1. ê° ë°ì´í„°ë“¤ì„ ì˜¬ë°”ë¥¸ ë²”ì£¼ ë‚´ì˜ ë²„í‚·ì— ë„£ëŠ”ë‹¤.
    for (const auto& element : arr)
    {
	    // ì†Œìˆ˜ ì²« ë²ˆì§¸ ìë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ 0~9ë²ˆ ë²„í‚·ì— ê°ê° ë„£ëŠ”ë‹¤.
        int index = static_cast<int>(element * bucketSize);
        InsertToBucket(buckets[index], element);
    }


    int index = 0;
    for (int i = 0; i < N; i++)
    {
        while (!buckets[i].empty())
        {
            arr[index++] = *(buckets[i].begin());
            buckets[i].pop_front();
        }
    }
}
```  
![ë²„í‚· ì •ë ¬ ì ìš© ì˜ˆ](../Resources/Images/ë²„í‚·%20ì •ë ¬%20ì ìš©%20ì˜ˆ.png)  

<br>

## 4. ë²„í‚· ì •ë ¬ì˜ ì„±ëŠ¥ ë¶„ì„

### ì¥ì 
- í‚¤(key)ì˜ ë²”ìœ„ê°€ ì‘ê³ , ê· ë“±í•˜ê²Œ ë¶„í¬ë˜ì–´ ìˆëŠ” ê²½ìš°ì— ê°•ë ¥í•œ ì„±ëŠ¥ì„ ë³´ì—¬ì¤€ë‹¤.  

### ë‹¨ì 
- `ë¹„ì œìë¦¬ ì •ë ¬(Non-in-place sorting)`ì´ë‹¤.
- íŠ¹ì •í•œ ìƒí™©ì´ ì•„ë‹ˆë¼ë©´, ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.  

### ì‹œê°„ ë³µì¡ë„
> ìµœì„ ì˜ ê²½ìš° ë° í‰ê·   
- í‚¤(key)ê°€ ê· ë“±í•˜ê²Œ ë¶„í¬ë˜ì–´ ìˆëŠ” ê²½ìš°  ğŸ‘‰ğŸ»  $\mathrm{O(N)}$  

> ìµœì•…ì˜ ê²½ìš°  
- í‚¤(key)ê°€ ê· ë“±í•˜ê²Œ ë¶„í¬ë˜ì§€ ì•Šì•„, í•œ ìª½ ë²„í‚·ì— ëª°ë¦¬ëŠ” ê²½ìš°
- ì´ ê²½ìš°, ë²„í‚· ë‚´ë¶€ì˜ ë°ì´í„°ë¥¼ ì •ë ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ì— ì˜í•´ ë²„í‚· ì •ë ¬ì˜ ì„±ëŠ¥ì´ ê²°ì •ë¨
