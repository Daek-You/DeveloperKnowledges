# í™(Heap)  

> **ëª©ì°¨**  
> 1. [í™ ìë£Œêµ¬ì¡°ë€?](#1-í™heap-ìë£Œêµ¬ì¡°ë€)  
> 1.1. [í™ì˜ ì¢…ë¥˜](#í™heapì˜-ì¢…ë¥˜)  
> 2. [ìš°ì„ ìˆœìœ„ íë€?](#2-ìš°ì„ ìˆœìœ„-ípriority-queueë€)  
> 3. [í™ì˜ êµ¬í˜„](#3-í™heap-êµ¬í˜„)  
> 4. [C++ë¡œ êµ¬í˜„í•œ í™](#4-cë¡œ-êµ¬í˜„í•œ-í™heap)  

<br>

## 1. í™(Heap) ìë£Œêµ¬ì¡°ë€?
- `ì™„ì „ ì´ì§„ íŠ¸ë¦¬(Complete Binary Tree)`ì˜ ì¼ì¢…ìœ¼ë¡œ, `ìš°ì„ ìˆœìœ„ í(Priority Queue)`ë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì§„ ìë£Œêµ¬ì¡°
- `ìµœì†Ÿê°’`ê³¼ `ìµœëŒ“ê°’`ì„ ì‰½ê²Œ ì¶”ì¶œí•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì–´ ìˆë‹¤.  
- `ì¤‘ë³µëœ ê°’`ì„ í—ˆìš© (ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì—ì„œëŠ” í—ˆìš©í•˜ì§€ ì•ŠìŒ)  
- íƒìƒ‰ì„ $\mathrm{O(logN)}$ë§Œì— í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•¨ì„ ìë‘  

### í™(Heap)ì˜ ì¢…ë¥˜  
> **ìµœëŒ€ íŠ¸ë¦¬(Max tree)ì™€ ìµœëŒ€ í™(Max heap)**  

- `ìµœëŒ€ íŠ¸ë¦¬(Max tree)` : "íŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œ"ì— ëŒ€í•´, **ë…¸ë“œì˜ ë°ì´í„° ê°’ $\geq$ ìì‹ ë…¸ë“œì˜ ë°ì´í„° ê°’**ì„ ë§Œì¡±í•˜ëŠ” íŠ¸ë¦¬
- `ìµœëŒ€ í™(Max heap)` : `ìµœëŒ€ íŠ¸ë¦¬`ì´ë©´ì„œ, `ì™„ì „ ì´ì§„ íŠ¸ë¦¬`  

    ![ìµœëŒ€ í™ ì˜ˆ](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrYmo2WSxBZLeH2LmuibFv2zbJvCKE3-mQ2g&usqp=CAU)  

<br>

> **ìµœì†Œ íŠ¸ë¦¬(Min tree)ì™€ ìµœì†Œ í™(Min heap)**  

- `ìµœì†Œ íŠ¸ë¦¬(Min tree)` : "íŠ¸ë¦¬ì˜ ëª¨ë“  ë…¸ë“œ"ì— ëŒ€í•´, **ë…¸ë“œì˜ ë°ì´í„° ê°’ $\leq$ ìì‹ ë…¸ë“œì˜ ë°ì´í„° ê°’**ì„ ë§Œì¡±í•˜ëŠ” íŠ¸ë¦¬
- `ìµœì†Œ í™(Min heap)` : `ìµœì†Œ íŠ¸ë¦¬`ì´ë©´ì„œ, `ì™„ì „ ì´ì§„ íŠ¸ë¦¬`  
    
    ![ìµœì†Œ í™ ì˜ˆ](https://velog.velcdn.com/images/kon6443/post/bea41e22-4d75-4bf6-8e9c-ebeb705cff95/image.png)  

<br>

## 2. ìš°ì„ ìˆœìœ„ í(Priority Queue)ë€?
- ì„ ì…ì„ ì¶œ(First-In, First-Out) ë°©ì‹ì´ ì•„ë‹Œ, <u>ìš°ì„ ìˆœìœ„ì˜ ìˆœì„œëŒ€ë¡œ ì‚­ì œë˜ëŠ” í</u>  

    > ex) ì‹œë®¬ë ˆì´ì…˜ ì‹œìŠ¤í…œ, ë¹„í–‰ê¸° íƒ‘ìŠ¹ ëŒ€ê¸°, ìš´ì˜ì²´ì œì˜ ì‘ì—… ìŠ¤ì¼€ì¤„ë§, ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ì œì–´, ìˆ˜ì¹˜ í•´ì„ì ì¸ ê³„ì‚° ë“±...  

- ìš°ì„ ìˆœìœ„ íëŠ” `ë°°ì—´`, `ì—°ê²°ë¦¬ìŠ¤íŠ¸`, `í™`ìœ¼ë¡œ êµ¬í˜„ì´ ê°€ëŠ¥  
    - ê·¸ ì¤‘ì—ì„œë„ `í™(Heap)`ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì   

        ![ìš°ì„ ìˆœìœ„ íë¥¼ í‘œí˜„í•˜ëŠ” ë°©ë²•](https://gmlwjd9405.github.io/images/data-structure-heap/data-structure-heap-priorityqueue.png)  

<br>

## 3. í™(Heap) êµ¬í˜„
- í™ì€ êµ¬í˜„í•˜ëŠ” í‘œì¤€ì ì¸ ìë£Œêµ¬ì¡°ëŠ” `ë°°ì—´`  

    > - ë°°ì—´ì˜ ì¸ë±ìŠ¤ : `ë…¸ë“œ ë²ˆí˜¸`  
    > - ë°°ì—´ì˜ ì›ì†Œ : `ë°ì´í„°`  

- êµ¬í˜„ì˜ í¸ë¦¬í•¨ì„ ìœ„í•´, 0ë²ˆ ì¸ë±ìŠ¤ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.  
- íŠ¹ì • ìœ„ì¹˜ì˜ ë…¸ë“œ ë²ˆí˜¸ëŠ” ìƒˆë¡œìš´ ë…¸ë“œê°€ ì¶”ê°€ë˜ì–´ë„ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.  

    > ex) ë£¨íŠ¸ ë…¸ë“œì˜ ì˜¤ë¥¸ìª½ ë…¸ë“œì˜ ë²ˆí˜¸ëŠ” í•­ìƒ 3  

- ë°°ì—´ë¡œ êµ¬í˜„í•˜ê²Œ ë˜ì—ˆì„ ë•Œ, ë¶€ëª¨ ë…¸ë“œì™€ ìì‹ ë…¸ë“œëŠ” ë‹¤ìŒì˜ ê´€ê³„ë¥¼ ê°€ì§„ë‹¤.  

    > - `ë¶€ëª¨ ë…¸ë“œ`ì˜ ì¸ë±ìŠ¤ : (ìì‹ ë…¸ë“œì˜ ì¸ë±ìŠ¤) / 2  
    > - `ì™¼ìª½ ìì‹ ë…¸ë“œ`ì˜ ì¸ë±ìŠ¤ : (ë¶€ëª¨ ë…¸ë“œì˜ ì¸ë±ìŠ¤) * 2  
    > - `ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œ`ì˜ ì¸ë±ìŠ¤ : (ë¶€ëª¨ ë…¸ë“œì˜ ì¸ë±ìŠ¤) * 2 + 1  

<br>

### ë…¸ë“œ ì¶”ê°€(Push) êµ¬í˜„
1. í™ì— ìƒˆë¡œìš´ ìš”ì†Œê°€ ë“¤ì–´ì˜¤ë©´, í™ì˜ ë§ˆì§€ë§‰ ë…¸ë“œì— ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì‚½ì…
2. ìƒˆë¡œìš´ ë…¸ë“œì—ì„œë¶€í„° ë¶€ëª¨ ë…¸ë“œë¥¼ íƒ€ê³  ì˜¬ë¼ê°€ë©°, ì¡°ê±´ì„ ê²€ì‚¬í•œë‹¤.  

    > - ìµœëŒ€ í™ì—ì„œëŠ” ë¶€ëª¨ ë…¸ë“œê°€ ë‚˜ë³´ë‹¤ í° ì§€ ê²€ì‚¬ ğŸ‘‰ğŸ» ì‘ë‹¤ë©´, Swapí•˜ê³  ë¶€ëª¨ ë…¸ë“œë¡œ ì´ë™í•˜ì—¬ ë‹¤ì‹œ ê²€ì‚¬  
    > - ìµœì†Œ í™ì—ì„œëŠ” ë¶€ëª¨ ë…¸ë“œê°€ ë‚˜ë³´ë‹¤ ì‘ì€ì§€ ê²€ì‚¬ ğŸ‘‰ğŸ» í¬ë‹¤ë©´, Swapí•˜ê³  ë¶€ëª¨ ë…¸ë“œë¡œ ì´ë™í•˜ì—¬ ë‹¤ì‹œ ê²€ì‚¬  
    > - ë§Œì•½ ê³„ì† íƒ€ê³  ì˜¬ë¼ê°€ë‹¤ê°€ ë£¨íŠ¸ ë…¸ë“œê¹Œì§€ ë„ë‹¬í–ˆë‹¤ë©´, ë£¨íŠ¸ ë…¸ë“œê¹Œì§€ ê²€ì‚¬í•˜ê³  ì¤‘ë‹¨  

<br>

### ë…¸ë“œ ì‚­ì œ(Pop) êµ¬í˜„
- í™ì—ì„œ ì‚­ì œëŠ” í•­ìƒ `ë£¨íŠ¸ ë…¸ë“œ`ì—ì„œë§Œ ë°œìƒ  
- `(1)ë£¨íŠ¸ ë…¸ë“œë¥¼ ì‚­ì œ` í•œ í›„, `(2)í™ ì¬êµ¬ì„± ê³¼ì •`ì„ ì§„í–‰  

> ì¬êµ¬ì„± ë°©ë²•  
1. ë£¨íŠ¸ ë…¸ë“œë¥¼ ì‚­ì œ í›„, í™ì˜ ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ë£¨íŠ¸ ë…¸ë“œë¡œ ë³€ê²½  
2. ë£¨íŠ¸ ë…¸ë“œë¶€í„° ì•„ë˜ë¡œ ìˆœíšŒí•˜ë©´ì„œ, ë…¸ë“œì˜ ê°’ë“¤ì„ ë¹„êµí•˜ë©° í™ ì¬êµ¬ì„±  

<br>

## 4. C++ë¡œ êµ¬í˜„í•œ í™(Heap)
```cpp
#include <vector>
#include <functional>
using namespace std;


template<typename T>
class Heap
{
public:
	Heap() { _heap.resize(5); }

	void Push(const T& data);
	T Pop();
	void Show();
	bool IsEmpty() { return _heap.empty(); }
	void Swap(T& d1, T& d2);

private:
	vector<T> _heap;
	std::function<bool(const T&, const T&)> _compare = less<T>();
	int _idx = 0;
};

template<typename T>
void Heap<T>::Swap(T& d1, T& d2)
{
	T temp = d1;
	d1 = d2;
	d2 = temp;
}

template<typename T>
void Heap<T>::Push(const T& data)
{
	if (_idx + 1 >= _heap.size())
		_heap.resize(_heap.size() * 2);

	_heap[++_idx] = data;

	for (int i = _idx; i > 1; i /= 2)
	{
		int parentIdx = i / 2;

		if (_compare(data, _heap[parentIdx]))
		{
			Swap(_heap[parentIdx], _heap[_idx]);
			continue;
		}

		break;
	}
}

template<typename T>
T Heap<T>::Pop()
{
	T value = _heap[1];
	_heap[1] = _heap[_idx--];
	
	int parent = 1, child = 2;
	while (child <= _idx)
	{
		if (child < _idx and !_compare(_heap[child], _heap[child + 1]))
			child++;

		if (_compare(_heap[parent], _heap[child]))
			break;

		Swap(_heap[parent], _heap[child]);
		parent = child;
		child *= 2;
	}

	return value;
}

template<typename T>
void Heap<T>::Show()
{
	for (int i = 1; i <= _idx; i++)
		cout << _heap[i] << ", ";
	cout << endl;
}
```  
